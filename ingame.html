<!DOCTYPE html>
<html lang="zh-cmn">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Baozier">
		<title>战国史诗</title>
		<link rel="stylesheet" type="text/css" href="public/general.css" >
		<link rel="stylesheet" type="text/css" href="vendor/font-awesome/css/font-awesome.min.css" >
    </head>
	<body>
		<script>
			var data = {
				settings: {
					delay: 1000	
				},
				round: 0,
				stage: 0,
				player: [0, 1, 2, 1, 1, 1, 1, 1, 0],
				allies: [
					//[1, 2], [7, 1], [6, 5]
				],
				relations: [
					[],
					[7, 5, 2, 4, 6, 3],
					[3, 5, 4, 6, 1, 7],
					[2, 5, 6, 4, 1, 7],
					[5, 6, 2, 1, 3, 7],
					[6, 4, 3, 2, 1, 7],
					[5, 4, 3, 2, 7, 1],
					[1, 5, 3, 6, 4, 2],
					[]
				],
				power: [0, 5, 5, 5, 5, 5, 5, 5, 0],
				hero: [
					[],
					[1, 1, 1, 1, 1, 1], 
					[1, 1, 1, 1, 1, 1], 
					[1, 1, 1, 1, 1, 1],
					[1, 1, 1, 1, 1, 1], 
					[1, 1, 1, 1, 1, 1], 
					[1, 1, 1, 1, 1, 1],
					[1, 1, 1, 1, 1, 1],
					[]
				],
				rank: [
					[1, 2, 6, 7, 4, 3, 5],
					[6, 4, 7, 5, 1, 2, 3],
					[7, 4, 3, 2, 1, 6, 5]
				],
				cities: [
					{code: 0, occupy: 0, army: []},
					{code: 1, occupy: 0, army: []},
					{code: 2, occupy: 4, army: [0]},
					{code: 3, occupy: 0, army: []},
					{code: 4, occupy: 4, army: [4, 8]},
					{code: 5, occupy: 0, army: []},
					{code: 6, occupy: 0, army: []},
					{code: 7, occupy: 3, army: [3, 8]},
					{code: 8, occupy: 3, army: [0]},
					{code: 9, occupy: 0, army: []},
					{code: 10, occupy: 0, army: []},
					{code: 11, occupy: 7, army: [0]},
					{code: 12, occupy: 0, army: []},
					{code: 13, occupy: 0, army: []},
					{code: 14, occupy: 7, army: [7, 8]},
					{code: 15, occupy: 0, army: []},
					{code: 16, occupy: 0, army: []},
					{code: 17, occupy: 0, army: []},
					{code: 18, occupy: 5, army: [0]},
					{code: 19, occupy: 6, army: [6, 8]},
					{code: 20, occupy: 0, army: []},
					{code: 21, occupy: 1, army: [1, 8]},
					{code: 22, occupy: 0, army: []},
					{code: 23, occupy: 1, army: [0]},
					{code: 24, occupy: 0, army: []},
					{code: 25, occupy: 0, army: []},
					{code: 26, occupy: 0, army: []},
					{code: 27, occupy: 6, army: [0]},
					{code: 28, occupy: 5, army: [5, 8]},
					{code: 29, occupy: 0, army: []},
					{code: 30, occupy: 8, army: [0]},
					{code: 31, occupy: 0, army: []},
					{code: 32, occupy: 0, army: []},
					{code: 33, occupy: 2, army: [2, 8]},
					{code: 34, occupy: 0, army: []},
					{code: 35, occupy: 2, army: [0]}
				],
			};
		</script>
		<div v-cloak id="app">
			<decision-board
				v-bind:key="round + '' + stage"
				v-bind:stage="stage" 
				v-bind:player="player"
				v-bind:state="statesInfo"
				v-bind:total="playersTotal"
				v-bind:relations="relations"
				v-bind:rank="currentRank"
				v-bind:orders="rank"
				v-bind:settings="settings"
				@addNewAlly="addNewAlly"
			></decision-board>
		    <main id="main">
		    	<template v-for="(c, index) in getCitiesInfo()">
		    		<city-info 
		    			v-bind:definition="c" 
		    			v-bind:data="cities[index]"
		    			v-bind:state="getStatesInfo()[cities[index].occupy]"
		    		></city-info>
		    	</template>
		    </main>
		    <div id="map"></div>
		    <section id="rank">
		    	<div id="rank-fame">
		    		<template v-for="(r, index) in rank">
						<rank-info
							v-bind:data="r"
							v-bind:type="index"
							v-bind:player="player.indexOf(2)"
						></rank-info>
					</template>
		    	</div>
		    	<supply-info 
		    		v-bind:data="statesInfo"
		    		v-bind:player="player"
		    	></supply-info>
		    </section>
		    <aside id="aside">
		    	<h4>回合: {{round + 1}}</h4>
		    	<h4>战国七雄</h4>
		    	<template v-for="(s, index) in getStatesInfo()" v-if="player[index]!==0">
			    	<state-info
			    		v-bind:definition="s"
			    		v-bind:player="player[index]===2"
			    		v-bind:data="statesInfo[index]"
			    		v-bind:power="power"
			    		v-bind:hero="hero[index]"
			    		v-bind:rank="currentRank"
			    	>
			    	</state-info>
		    	</template>
		    </aside>
		</div>
		<script type="text/javascript" src="vendor/vue.js"></script>
		<script type="text/javascript" src="source/definition/state.js"></script>
		<script type="text/javascript" src="source/definition/city.js"></script>
		<script type="text/javascript" src="source/definition/army.js"></script>
		<script type="text/javascript" src="source/definition/stage.js"></script>
		<script type="text/javascript" src="source/component/city-info.js"></script>
		<script type="text/javascript" src="source/component/state-info.js"></script>
		<script type="text/javascript" src="source/component/rank-info.js"></script>
		<script type="text/javascript" src="source/component/supply-info.js"></script>
		<script type="text/javascript" src="source/ai/ally.js"></script>
		<script type="text/javascript" src="source/component/decision-board.js"></script>
		<script type="text/javascript" src="source/epic.js"></script>
	</body>
</html>